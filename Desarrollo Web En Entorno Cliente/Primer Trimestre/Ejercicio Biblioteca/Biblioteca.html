<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form name="formu">
        Titulo <input type="text" name="titulo"><br><br>
        Autor <input type="text" name="autor"><br><br>
        Editorial <input type="text" name="editorial"><br><br>
        Año Edición <input type="text" name="annio"><br><br>
        <textarea name="resu" cols="30" rows="10"></textarea><br><br>
        <input type="button"  value="Guardar" onclick="guardarLibro()">
        <input type="button"  value="Visualizar" onclick="verLibros()">
        <input type="button"  value="Limpiar" onclick="limpiar()">
    </form>
<script>  
    var libros = [];

    function CrearLibro(titulo, autor, editorial, annio){
        this.titulo = titulo;
        this.autor = autor;
        this.editorial = editorial;
        this.annio = annio;
        this.signatura = crearSignatura;

        function crearSignatura(){
            signatura = "";
            signatura+= autor.slice(0,2);
            signatura+= annio;
            signatura+= editorial;

            return signatura;
        }
    }

    function guardarLibro(){
        var titulo = document.formu.titulo.value;
        var autor = document.formu.autor.value;
        var editorial = document.formu.editorial.value;
        var annio = document.formu.annio.value;

        if(titulo != "" && autor != "" && editorial != "" && annio!= ""){

            var libro = new CrearLibro(titulo, autor, editorial, annio);

            libros.push(libro);

            alert("Libro guardado correctamente.");

            document.formu.titulo.value = "";
            document.formu.autor.value = "";
            document.formu.editorial.value = "";
            document.formu.annio.value = "";
        }else{
            alert("No has introducido los datos.");
        }
    }

    function verLibros(){
        var mensaje = "";

        for(i = 0; i < libros.length; i++){
            mensaje+= libros[i].titulo + "\n";
            mensaje+= "\&nbsp;\&nbsp; Autor: "+ libros[i].autor + "\n";
            mensaje+= "\&nbsp;\&nbsp; Editorial:"+ libros[i].editorial + "\n";
            mensaje+= "\&nbsp;\&nbsp; Año:"+ libros[i].annio + "\n";
            mensaje+= "\&nbsp;\&nbsp; Signatura:"+ libros[i].signatura() + "\n\n";
        }

        document.formu.resu.innerHTML = mensaje;
    }

    function limpiar(){
        document.formu.resu.innerHTML = "";
    }
   

</script>
</body>
</html>
